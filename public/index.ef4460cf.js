var t,n,e,i,o,a,r,f,d,u,c,l,g,s,v,h,p,m,E,I,L,w,y;function B(){var t,n;null==(t=e)||t.clearRect(0,0,i,o),null==(n=e)||n.drawImage(a,h,p,f,r)}function k(t,n,e){return Math.max(n,Math.min(t,e))}function H(){for(var t=0,n=0,e=0;e<I.length;e++)t+=I[e].offsetX,n+=I[e].offsetY;return[t/=I.length,n/=I.length]}function M(t,n){m=(-h+t)/f,E=(-p+n)/r}function R(t,n){h=k(h-t*m,i-f,0),p=k(p-n*E,o-r,0)}function x(t){(I=I.filter((function(n){return n.pointerId!=t.pointerId}))).length<2&&(L=-1);var n=H();s=n[0],v=n[1],0==I.length&&(g=!1)}function D(t){t.preventDefault(),t.stopPropagation()}function P(n){(a=new Image).onload=function(){g=!1,h=0,p=0,I=[],L=-1,t&&(t.value="1"),r=a.naturalHeight,f=a.naturalWidth,d=Math.max(o/r,i/f),l=(c=r*=d)/(u=f*=d),B()},a.src=n}w=document.getElementById("canvas"),e=(n=w).getContext("2d"),i=w.width=n.offsetWidth,o=w.height=n.offsetHeight,console.log(n.offsetHeight,n.height,n.clientHeight),n.addEventListener("pointerdown",(function(t){D(t),function(t){I.push(t);var n=H();s=n[0],v=n[1],g=!0}(t)})),n.addEventListener("pointermove",(function(n){D(n),function(n){for(var e=0;e<I.length;e++)if(n.pointerId==I[e].pointerId){I[e]=n;break}var a,d,m,E,w=H();g&&(m=(a=w[0])-s,E=(d=w[1])-v,s=a,v=d,h=k(h+m,i-f,0),p=k(p+E,o-r,0)),function(){if(2==I.length){var n=Math.hypot(I[0].offsetX-I[1].offsetX,I[0].offsetY-I[1].offsetY);if(L>0){var e=n-L;o=e*l,(a=f+(i=e))<u||r+o<c||a/u>5||(t&&(t.value=String(a/u)),f=a,r+=o,R(i,o))}L=n}var i,o,a}(),M(i/2,o/2),B()}(n)})),n.addEventListener("pointerout",(function(t){D(t),x(t)})),n.addEventListener("pointerup",(function(t){D(t),x(t)})),n.addEventListener("pointercancel",(function(t){D(t),x(t)})),n.addEventListener("pointerleave",(function(t){D(t),x(t)})),P("https://www.tailwind-kit.com/images/landscape/3.jpg"),y=document.getElementById("myRange"),(t=y).value=String(f?f/u:1),t.addEventListener("input",(function(t){D(t),function(t){!function(t){L=-1;var n=f,e=r;n-=f=u*t,e-=r=c*t,M(i/2,o/2),R(-n,-e)}(+t.target.value),B()}(t)}));var S=document.getElementById("filePicker");S.addEventListener("change",(t=>{!function(t){t.preventDefault(),t.stopPropagation()}(t),function(){var t=S.files?.[0];if(t){var n=new FileReader;n.onload=()=>P(String(n.result)),n.readAsDataURL(t)}}()}));const X=document.getElementById("dropdown");document.getElementById("menu").addEventListener("click",(()=>{X.classList.toggle("hidden")}));
//# sourceMappingURL=index.ef4460cf.js.map
