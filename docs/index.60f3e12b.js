function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequire6268;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequire6268=i),i.register("bXuNP",(function(t,n){var r,o;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("bXuNP").register(JSON.parse('{"iiMhz":"index.60f3e12b.js","aoxai":"pine.d54da871.webp"}'));var a,f,u,d;i.register("kPq84",(function(t,n){var r;e(t.exports,"getBundleURL",(()=>r),(e=>r=e));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),a=i("kPq84").getBundleURL("iiMhz")+i("bXuNP").resolve("aoxai");var c,l,s,g,v,h,p,m,w,E,b,L,x=0,y=0;let I,R;var k,M;function P(){d?.clearRect(0,0,x,y),d?.drawImage(c,b,L,s,l)}function B(e=!0){g=Math.max(y/l,x/s),p=(h=l*=g)/(v=s*=g),P()}function H(e,t,n){return Math.max(t,Math.min(e,n))}function _(){let e=0,t=0;for(var n=0;n<k.length;n++)e+=k[n].offsetX,t+=k[n].offsetY;return e/=k.length,t/=k.length,[e,t]}function O(e,t){I=(-b+e)/s,R=(-L+t)/l}function S(e,t){b=H(b-e*I,x-s,0),L=H(L-t*R,y-l,0)}function D(){if(2==k.length){var e=Math.hypot(k[0].offsetX-k[1].offsetX,k[0].offsetY-k[1].offsetY);if(M>0){const t=e-M;!function(e,t){const n=s+e;n<v||l+t<h||n/v>5||(f&&(f.value=String(g=n/v)),s=n,l+=t,S(e,t))}(t,t*p)}M=e}}function N(e){const t=e.target.value;(function(e){M=-1;let t=s,n=l;t-=s=v*e,n-=l=h*e,O(x/2,y/2),S(-t,-n)})(g=+t),P()}function U(e){(k=k.filter((t=>t.pointerId!=e.pointerId))).length<2&&(M=-1),[w,E]=_(),0==k.length&&(m=!1)}function X(e){for(var t=0;t<k.length;t++)if(e.pointerId==k[t].pointerId){k[t]=e;break}let[n,r]=_();m&&function(e,t){var n=e-w,r=t-E;w=e,E=t,b=H(b+n,x-s,0),L=H(L+r,y-l,0)}(n,r),D(),O(x/2,y/2),P()}const T=function(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}}((()=>{const e=u.offsetWidth-x,t=u.offsetHeight-y;x=u.width=u.offsetWidth,y=u.height=u.offsetHeight,s<x?(b=0,B()):l<y?(L=0,B()):(b+=e/2,L+=t/2,v=x,h=x*p,P()),f.value=String(g=Math.min(s/x,s/y)||1)}),300);function q(e){e.preventDefault(),e.stopPropagation()}function C(){u.addEventListener("pointerdown",(e=>{q(e),function(e){k.push(e),[w,E]=_(),m=!0}(e)})),u.addEventListener("pointermove",(e=>{q(e),X(e)})),u.addEventListener("pointerout",(e=>{q(e),U(e)})),u.addEventListener("pointerup",(e=>{q(e),U(e)})),u.addEventListener("pointercancel",(e=>{q(e),U(e)})),u.addEventListener("pointerleave",(e=>{q(e),U(e)})),new ResizeObserver(T).observe(u)}function F(e){(c=new Image).onload=()=>{m=!1,b=0,L=0,k=[],M=-1,f&&(f.value="1"),l=c.naturalHeight,s=c.naturalWidth,B()},c.src=e}function W(){const e=document.createElement("a");var t;e.download="canvas.png",e.href=((t=document.createElement("canvas")).width=x,t.height=y,t.getContext("2d").drawImage(c,b,L,s,l),t.toDataURL()),e.click()}var j;j=document.getElementById("canvas"),d=(u=j).getContext("2d"),x=u.width=u.offsetWidth,y=u.height=u.offsetHeight,C(),F(t(a)),function(e){(f=e).value=String(c&&g||1),f.addEventListener("input",(e=>{q(e),N(e)}))}(document.getElementById("myRange"));var z=document.getElementById("filePicker");z.addEventListener("change",(e=>{!function(e){e.preventDefault(),e.stopPropagation()}(e),function(){var e=z.files?.[0];if(e){var t=new FileReader;t.onload=()=>F(String(t.result)),t.readAsDataURL(e)}}()}));const A=document.getElementById("dropdown");document.getElementById("menu").addEventListener("click",(()=>{A.classList.toggle("hidden")})),document.getElementById("download").addEventListener("click",(()=>{W()}));
//# sourceMappingURL=index.60f3e12b.js.map
