{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-4e21ee083ffe2b1f.js","../script.ts","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-6ff6ab63e89e9319.js","test.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"iiMhz\\\":\\\"index.60f3e12b.js\\\",\\\"aoxai\\\":\\\"pine.d54da871.webp\\\"}\"));","var slider: HTMLInputElement | undefined;\n\n// canvas related variables\nvar canvas: HTMLCanvasElement;\nvar canvasContext: CanvasRenderingContext2D | null;\nvar canvasWidth: number = 0;\nvar canvasHeight: number = 0;\n\n// image related variables\nvar img: HTMLImageElement;\nvar imgHeight: number;\nvar imgWidth: number;\nvar scale: number;\nvar originalWidth: number;\nvar originalHeight: number;\nvar ratio: number;\n\n// Pointer drag related variables\nvar isDown: boolean;\nvar pointerX: number, pointerY: number;\n\n// the accumulated horizontal(X) & vertical(Y) panning the user has done in total\nvar netPanningX: number;\nvar netPanningY: number;\n\n// zoom and pinch related variables\nlet originX: number, originY: number;\nvar eventCache: PointerEvent[];\nvar prevDiff: number;\n\nfunction initPointerAndZoom() {\n  isDown = false;\n  netPanningX = 0;\n  netPanningY = 0;\n  eventCache = [];\n  prevDiff = -1;\n  if (slider) slider.value = '1'\n}\n\n// draw image\nfunction draw() {\n  canvasContext?.clearRect(0, 0, canvasWidth, canvasHeight);\n  canvasContext?.drawImage(img, netPanningX, netPanningY, imgWidth, imgHeight);\n}\n\n// recalculate images related variables\nfunction onImageLoad(fixScale: boolean = true) {\n  scale = Math.max(canvasHeight / imgHeight, canvasWidth / imgWidth);\n  imgHeight *= scale;\n  imgWidth *= scale;\n  originalWidth = imgWidth;\n  originalHeight = imgHeight;\n  ratio = originalHeight / originalWidth;\n  draw();\n}\n\n// define function to clamp number\nfunction clamp(num: number, from: number, to: number) {\n  return Math.max(from, Math.min(num, to));\n}\n\n// define debounce function\nfunction debounce<Params extends any[]>(func: (...args: Params) => any, timeout: number,): (...args: Params) => void {\n  let timer: NodeJS.Timeout\n  return (...args: Params) => {\n    clearTimeout(timer)\n    timer = setTimeout(() => {\n      func(...args)\n    }, timeout)\n  }\n}\n\n// get the median point of pointers\nfunction getPointerAverage() {\n  let x = 0, y = 0;\n  for (var i = 0; i < eventCache.length; i++) {\n    x += eventCache[i].offsetX;\n    y += eventCache[i].offsetY;\n  }\n  x = x / eventCache.length;\n  y = y / eventCache.length;\n  return [x, y]\n}\n\n// calc origin for zoom and pinch\nfunction calcOrigin(x: number, y: number) {\n  originX = (-netPanningX + x) / imgWidth;\n  originY = (-netPanningY + y) / imgHeight;\n}\n\nfunction handleMouseMove(x: number, y: number) {\n  // the last mousemove event\n  var dx = x - pointerX;\n  var dy = y - pointerY;\n  // reset the vars for next mousemove\n  pointerX = x;\n  pointerY = y;\n  // accumulate the net panning done\n  netPanningX = clamp(netPanningX + dx, canvasWidth - imgWidth, 0);\n  netPanningY = clamp(netPanningY + dy, canvasHeight - imgHeight, 0);\n}\n\nfunction zoom(deltaX: number, deltaY: number) {\n  netPanningX = clamp(netPanningX - deltaX * originX, canvasWidth - imgWidth, 0);\n  netPanningY = clamp(netPanningY - deltaY * originY, canvasHeight - imgHeight, 0);\n}\n\nfunction zoomDelta(deltaX: number, deltaY: number) {\n  const newWidth = imgWidth + deltaX;\n  if (newWidth < originalWidth || imgHeight + deltaY < originalHeight) return;\n  if (newWidth / originalWidth > 5) return;\n  if (slider) slider.value = String(scale = newWidth / originalWidth)\n  // calc new size\n  imgWidth = newWidth;\n  imgHeight += deltaY;\n  // accumulate the net panning done\n  zoom(deltaX, deltaY);\n}\n\nfunction zoomScale(scale: number) {\n  prevDiff = -1;\n  let deltaX = imgWidth;\n  let deltaY = imgHeight;\n  // calc new size\n  imgWidth = originalWidth * scale;\n  imgHeight = originalHeight * scale;\n  // calc diff\n  deltaX -= imgWidth;\n  deltaY -= imgHeight;\n  //\n  calcOrigin(canvasWidth / 2, canvasHeight / 2);\n  zoom(-deltaX, -deltaY)\n}\n\nfunction pinch() {\n  if (eventCache.length == 2) {\n    // Calculate the distance between the two pointers\n    var curDiff = Math.hypot(eventCache[0].offsetX - eventCache[1].offsetX, eventCache[0].offsetY - eventCache[1].offsetY);\n    // zoom into image\n    if (prevDiff > 0) {\n      const delta = curDiff - prevDiff;\n      zoomDelta(delta, delta * ratio)\n    }\n    prevDiff = curDiff;\n  }\n}\n\n/* -------------------------------------------------------------------------- */\n/*                               Event Handlers                               */\n/* -------------------------------------------------------------------------- */\n\nfunction onSliderMove(e: Event) {\n  const value = (e.target as HTMLInputElement).value;\n  scale = +value;\n  zoomScale(scale);\n  draw();\n};\n\nfunction onPointerdown(e: PointerEvent) {\n  // This event is cached to support 2-finger gestures\n  eventCache.push(e);\n  // refresh move origin\n  [pointerX, pointerY] = getPointerAverage();\n  isDown = true;\n};\n\nfunction onPointerUp(e: PointerEvent) {\n  // If the number of pointers down is less than two then reset diff tracker\n  eventCache = eventCache.filter(ev => ev.pointerId != e.pointerId)\n  if (eventCache.length < 2) {\n    prevDiff = -1;\n  }\n  [pointerX, pointerY] = getPointerAverage();\n  if (eventCache.length == 0) isDown = false;\n};\n\nfunction onPointermove(e: PointerEvent) {\n  // Find this event in the cache and update its record with this event\n  for (var i = 0; i < eventCache.length; i++)\n    if (e.pointerId == eventCache[i].pointerId) {\n      eventCache[i] = e; break;\n    }\n  // calc x,y and\n  let [x, y] = getPointerAverage();\n  if (isDown) handleMouseMove(x, y);\n  pinch();\n  calcOrigin(canvasWidth / 2, canvasHeight / 2);\n  draw();\n};\n\nconst onResize = debounce<[]>(() => {\n  const deltaX = canvas.offsetWidth - canvasWidth;\n  const deltaY = canvas.offsetHeight - canvasHeight;\n  canvasWidth = canvas.width = canvas.offsetWidth;\n  canvasHeight = canvas.height = canvas.offsetHeight;\n  if (imgWidth < canvasWidth) {\n    netPanningX = 0;\n    onImageLoad();\n  } else if (imgHeight < canvasHeight) {\n    netPanningY = 0;\n    onImageLoad();\n  } else {\n    netPanningX += deltaX / 2;\n    netPanningY += deltaY / 2;\n    originalWidth = canvasWidth;\n    originalHeight = canvasWidth * ratio;\n    draw();\n  }\n  slider.value = String(scale = Math.min(imgWidth / canvasWidth, imgWidth / canvasHeight) || 1);\n}, 300)\n\nfunction prevent(e: Event) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\nfunction leadListeners() {\n  canvas.addEventListener('pointerdown', (e) => { prevent(e); onPointerdown(e) });\n  canvas.addEventListener('pointermove', (e) => { prevent(e); onPointermove(e) });\n  canvas.addEventListener('pointerout', (e) => { prevent(e); onPointerUp(e) })\n  canvas.addEventListener('pointerup', (e) => { prevent(e); onPointerUp(e) })\n  canvas.addEventListener('pointercancel', (e) => { prevent(e); onPointerUp(e) })\n  canvas.addEventListener('pointerleave', (e) => { prevent(e); onPointerUp(e) })\n  new ResizeObserver(onResize).observe(canvas);\n}\n\n/* -------------------------------------------------------------------------- */\n/*                                   Loading                                  */\n/* -------------------------------------------------------------------------- */\n\nexport function loadSlider(el: HTMLInputElement) {\n  slider = el;\n  slider.value = String(img ? scale || 1 : 1);\n  slider.addEventListener('input', (e) => { prevent(e); onSliderMove(e) });\n}\n\nexport function loadCanvas(el: HTMLCanvasElement) {\n  canvas = el;\n  canvasContext = canvas.getContext(\"2d\");\n  canvasWidth = canvas.width = canvas.offsetWidth;\n  canvasHeight = canvas.height = canvas.offsetHeight;\n  leadListeners();\n}\n\nexport function loadImageFromUrl(url: string) {\n  img = new Image();\n  img.onload = () => {\n    initPointerAndZoom();\n    imgHeight = img.naturalHeight;\n    imgWidth = img.naturalWidth;\n    onImageLoad();\n  };\n  img.src = url;\n}\n\n/* -------------------------------------------------------------------------- */\n/*                                   Export                                   */\n/* -------------------------------------------------------------------------- */\n\n\nexport function getBlob() {\n  return new Promise<Blob>((res, reg) => {\n    var canvas = document.createElement('canvas');\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n    var context = canvas.getContext('2d');\n    context.drawImage(img, netPanningX, netPanningY, imgWidth, imgHeight);\n    canvas.toBlob((b) => {\n      res(b);\n    })\n  })\n}\n\nexport function getDataUrl() {\n  var canvas = document.createElement('canvas');\n  canvas.width = canvasWidth;\n  canvas.height = canvasHeight;\n  var context = canvas.getContext('2d');\n  context.drawImage(img, netPanningX, netPanningY, imgWidth, imgHeight);\n  return canvas.toDataURL();\n}\n\nexport function download() {\n  const link = document.createElement('a');\n  link.download = 'canvas.png';\n  link.href = getDataUrl();\n  link.click();\n}\n\nexport function getCropInfo() {\n  return ({\n    width: imgWidth,\n    imgHeight: imgHeight,\n    x: netPanningX,\n    y: netPanningY\n  })\n}","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('iiMhz') + require('./helpers/bundle-manifest').resolve(\"aoxai\");","import image from './pine.webp';\r\nimport { download, loadCanvas, loadImageFromUrl, loadSlider } from '../script';\r\n\r\nfunction prevent(e: Event) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n}\r\n\r\nloadCanvas(document.getElementById('canvas') as HTMLCanvasElement);\r\nloadImageFromUrl(image);\r\nloadSlider(document.getElementById(\"myRange\") as HTMLInputElement);\r\nvar filePicker: HTMLInputElement = <HTMLInputElement>document.getElementById(\"filePicker\");\r\nfunction loadImageFile() {\r\n    var file = (filePicker as HTMLInputElement).files?.[0];\r\n    if (!file) return\r\n    var fr = new FileReader();\r\n    fr.onload = () => loadImageFromUrl(String(fr.result));\r\n    fr.readAsDataURL(file);\r\n}\r\nfilePicker.addEventListener('change', (e) => { prevent(e); loadImageFile() });\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/*                                    page                                    */\r\n/* -------------------------------------------------------------------------- */\r\n\r\nconst dropdown = document.getElementById(\"dropdown\");\r\n\r\ndocument.getElementById(\"menu\").addEventListener('click', () => {\r\n    dropdown.classList.toggle('hidden');\r\n});\r\n\r\ndocument.getElementById(\"download\").addEventListener('click', () => {\r\n    download()\r\n});"],"names":["$8b4d1930797b255e$export$6503ec6e8aabbaf","$8b4d1930797b255e$export$f7ad0328861e2f03","$8b4d1930797b255e$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$dd535ca4f161956d$var$slider","$dd535ca4f161956d$var$canvas","$dd535ca4f161956d$var$canvasContext","$f29cd6c67ea13581$export$bdfd709ae4826697","$f29cd6c67ea13581$var$bundleURL","$f29cd6c67ea13581$var$getBaseURL","url","replace","value","err","matches","stack","match","$f29cd6c67ea13581$var$getBundleURL","$32b01dc9b2fa45c9$exports","getBundleURL","resolve","$dd535ca4f161956d$var$img","$dd535ca4f161956d$var$imgHeight","$dd535ca4f161956d$var$imgWidth","$dd535ca4f161956d$var$scale","$dd535ca4f161956d$var$originalWidth","$dd535ca4f161956d$var$originalHeight","$dd535ca4f161956d$var$ratio","$dd535ca4f161956d$var$isDown","$dd535ca4f161956d$var$pointerX","$dd535ca4f161956d$var$pointerY","$dd535ca4f161956d$var$netPanningX","$dd535ca4f161956d$var$netPanningY","$dd535ca4f161956d$var$canvasWidth","$dd535ca4f161956d$var$canvasHeight","$dd535ca4f161956d$var$originX","$dd535ca4f161956d$var$originY","$dd535ca4f161956d$var$eventCache","$dd535ca4f161956d$var$prevDiff","$dd535ca4f161956d$var$draw","clearRect","drawImage","$dd535ca4f161956d$var$onImageLoad","fixScale","Math","max","$dd535ca4f161956d$var$clamp","num","from","to","min","$dd535ca4f161956d$var$getPointerAverage","x","y","offsetX","offsetY","$dd535ca4f161956d$var$calcOrigin","$dd535ca4f161956d$var$zoom","deltaX","deltaY","$dd535ca4f161956d$var$pinch","curDiff","hypot","delta","newWidth","String","$dd535ca4f161956d$var$zoomDelta","$dd535ca4f161956d$var$onSliderMove","e","target","scale","$dd535ca4f161956d$var$zoomScale","$dd535ca4f161956d$var$onPointerUp","filter","ev","pointerId","$dd535ca4f161956d$var$onPointermove","dx","dy","$dd535ca4f161956d$var$handleMouseMove","$dd535ca4f161956d$var$onResize","func","timeout","timer","args","clearTimeout","setTimeout","$dd535ca4f161956d$var$debounce","offsetWidth","offsetHeight","width","height","$dd535ca4f161956d$var$prevent","preventDefault","stopPropagation","$dd535ca4f161956d$var$leadListeners","addEventListener","push","$dd535ca4f161956d$var$onPointerdown","ResizeObserver","observe","$dd535ca4f161956d$export$7dc0d71d95f22484","Image","onload","naturalHeight","naturalWidth","src","$dd535ca4f161956d$export$24422be91ad4011f","link","document","createElement","canvas","download","href","getContext","toDataURL","click","el","getElementById","$parcel$interopDefault","$dd535ca4f161956d$export$eddf944f3870013a","$7372b7044736ab82$var$filePicker","$7372b7044736ab82$var$prevent","file","files","fr","FileReader","result","readAsDataURL","$7372b7044736ab82$var$loadImageFile","$7372b7044736ab82$var$dropdown","classList","toggle"],"version":3,"file":"index.60f3e12b.js.map"}