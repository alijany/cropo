var t,e,n,i,o,a,r,f,u,d,c,l,s,v,g,h,p,m,E,w=0,I=0;function L(){var t,e;null==(t=n)||t.clearRect(0,0,w,I),null==(e=n)||e.drawImage(i,v,g,a,o)}function y(t){r=Math.max(I/o,w/a),d=(u=o*=r)/(f=a*=r),L()}function B(t,e,n){return Math.max(e,Math.min(t,n))}function M(){for(var t=0,e=0,n=0;n<m.length;n++)t+=m[n].offsetX,e+=m[n].offsetY;return[t/=m.length,e/=m.length]}function R(t,e){h=(-v+t)/a,p=(-g+e)/o}function k(t,e){v=B(v-t*h,w-a,0),g=B(g-e*p,I-o,0)}function H(t){(m=m.filter((function(e){return e.pointerId!=t.pointerId}))).length<2&&(E=-1);var e=M();l=e[0],s=e[1],0==m.length&&(c=!1)}var S,W,b,x,D=(S=function(){var n=e.offsetWidth-w,i=e.offsetHeight-I;w=e.width=e.offsetWidth,I=e.height=e.offsetHeight,a<w?(v=0,y()):o<I?(g=0,y()):(v+=n/2,g+=i/2,f=w,u=w*d,L()),t.value=String(r=Math.min(a/w,a/I)||1)},function(){var t=arguments;clearTimeout(W),W=setTimeout((function(){S.apply(void 0,[].slice.call(t))}),300)});function P(t){t.preventDefault(),t.stopPropagation()}function X(e){(i=new Image).onload=function(){c=!1,v=0,g=0,m=[],E=-1,t&&(t.value="1"),o=i.naturalHeight,a=i.naturalWidth,y()},i.src=e}b=document.getElementById("canvas"),n=(e=b).getContext("2d"),w=e.width=e.offsetWidth,I=e.height=e.offsetHeight,e.addEventListener("pointerdown",(function(t){P(t),function(t){m.push(t);var e=M();l=e[0],s=e[1],c=!0}(t)})),e.addEventListener("pointermove",(function(e){P(e),function(e){for(var n=0;n<m.length;n++)if(e.pointerId==m[n].pointerId){m[n]=e;break}var i,h,p,y,H=M();c&&(p=(i=H[0])-l,y=(h=H[1])-s,l=i,s=h,v=B(v+p,w-a,0),g=B(g+y,I-o,0)),function(){if(2==m.length){var e=Math.hypot(m[0].offsetX-m[1].offsetX,m[0].offsetY-m[1].offsetY);if(E>0){var n=e-E;c=n*d,(l=a+(i=n))<f||o+c<u||l/f>5||(t&&(t.value=String(r=l/f)),a=l,o+=c,k(i,c))}E=e}var i,c,l}(),R(w/2,I/2),L()}(e)})),e.addEventListener("pointerout",(function(t){P(t),H(t)})),e.addEventListener("pointerup",(function(t){P(t),H(t)})),e.addEventListener("pointercancel",(function(t){P(t),H(t)})),e.addEventListener("pointerleave",(function(t){P(t),H(t)})),new ResizeObserver(D).observe(e),X("https://www.tailwind-kit.com/images/landscape/3.jpg"),x=document.getElementById("myRange"),(t=x).value=String(i&&r||1),t.addEventListener("input",(function(t){P(t),function(t){(function(t){E=-1;var e=a,n=o;e-=a=f*t,n-=o=u*t,R(w/2,I/2),k(-e,-n)})(r=+t.target.value),L()}(t)}));var Y=document.getElementById("filePicker");Y.addEventListener("change",(t=>{!function(t){t.preventDefault(),t.stopPropagation()}(t),function(){var t=Y.files?.[0];if(t){var e=new FileReader;e.onload=()=>X(String(e.result)),e.readAsDataURL(t)}}()}));const T=document.getElementById("dropdown");document.getElementById("menu").addEventListener("click",(()=>{T.classList.toggle("hidden")}));
//# sourceMappingURL=index.0f331219.js.map
