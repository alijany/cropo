function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequire6268;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequire6268=i),i.register("bXuNP",(function(t,n){var r,o;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("bXuNP").register(JSON.parse('{"iiMhz":"index.e4e4803a.js","aoxai":"pine.d54da871.webp"}'));var a,f,u,d;i.register("kPq84",(function(t,n){var r;e(t.exports,"getBundleURL",(()=>r),(e=>r=e));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),a=i("kPq84").getBundleURL("iiMhz")+i("bXuNP").resolve("aoxai");var l,c,s,g,v,h,p,m,w,E,b,L,x=0,y=0,I=!0;let R,M;var k,P;function B(e,t,n){return Math.max(t,Math.min(e,n))}function H(){d?.clearRect(0,0,x,y),d?.drawImage(l,b,L,s,c)}function S(){I&&(g=Math.max(y/c,x/s),c*=g,s*=g),w=E=0,p=(h=c)/(v=s),H()}function _(){let e=0,t=0;for(var n=0;n<k.length;n++)e+=k[n].offsetX,t+=k[n].offsetY;return e/=k.length,t/=k.length,[e,t]}function O(e,t){R=(-b+e)/s,M=(-L+t)/c}function D(e,t){b=I?B(b-e*R,x-s,0):b-e*R,L=I?B(L-t*M,y-c,0):L-t*M}function N(){if(2==k.length){var e=Math.hypot(k[0].offsetX-k[1].offsetX,k[0].offsetY-k[1].offsetY);if(P>0){const t=e-P;!function(e,t){const n=s+e;n<v||c+t<h||n/v>5||n/v<1||(f&&(f.value=String(g=n/v)),s=n,c+=t,D(e,t))}(t,t*p)}P=e}}function U(e){const t=e.target.value;(function(e){if(e>5||e<1)return;P=-1;let t=s,n=c;t-=s=v*e,n-=c=h*e,O(x/2,y/2),D(-t,-n)})(g=+t),H()}function X(e){(k=k.filter((t=>t.pointerId!=e.pointerId))).length<2&&(P=-1),[w,E]=_(),0==k.length&&(m=!1)}function C(e){if(!m)return;for(var t=0;t<k.length;t++)if(e.pointerId==k[t].pointerId){k[t]=e;break}let[n,r]=_();!function(e,t){var n=e-w,r=t-E;w=e,E=t,b=I?B(b+n,x-s,0):b+n,L=I?B(L+r,y-c,0):L+r}(n,r),N(),O(x/2,y/2),H()}const T=function(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}}((()=>{const e=u.offsetWidth-x,t=u.offsetHeight-y;x=u.width=u.offsetWidth,y=u.height=u.offsetHeight,I&&s<x?(b=0,S()):I&&c<y?(L=0,S()):(b+=e/2,L+=t/2,v=x,h=x*p,H()),g=I?Math.min(s/x,s/y)||1:Math.min(s/v,s/h)||1,f&&(f.value=String(g))}),300);function q(e){e.preventDefault(),e.stopPropagation()}function F(){u.addEventListener("pointerdown",(e=>{q(e),function(e){k.push(e),[w,E]=_(),m=!0}(e)})),u.addEventListener("pointermove",(e=>{q(e),C(e)})),u.addEventListener("pointerout",(e=>{q(e),X(e)})),u.addEventListener("pointerup",(e=>{q(e),X(e)})),u.addEventListener("pointercancel",(e=>{q(e),X(e)})),u.addEventListener("pointerleave",(e=>{q(e),X(e)})),new ResizeObserver(T).observe(u)}function W(e,t=!0,n){if(!u)throw Error("first call loadCanvas");I=t,(l=new Image).onload=()=>{m=!1,b=0,L=0,k=[],P=-1,f&&(f.value=String(1)),c=l.naturalHeight,s=l.naturalWidth,S(),n?.()},l.src=e}function j(e=1){const t=document.createElement("a");t.download="canvas.png",t.href=function(e=1){var t=document.createElement("canvas");return t.width=x*e,t.height=y*e,t.getContext("2d").drawImage(l,b*e,L*e,s*e,c*e),t.toDataURL()}(e),t.click()}var z,A,Y;z=document.getElementById("canvas"),d=(u=z).getContext("2d"),x=u.width=A||u.offsetWidth,y=u.height=Y||u.offsetHeight,F(),W(t(a),!0),function(e){(f=e).value=String(g||1),f.addEventListener("input",(e=>{q(e),U(e)}))}(document.getElementById("myRange"));var $=document.getElementById("filePicker");$.addEventListener("change",(e=>{!function(e){e.preventDefault(),e.stopPropagation()}(e),function(){var e=$.files?.[0];if(e){var t=new FileReader;t.onload=()=>W(String(t.result)),t.readAsDataURL(e)}}()}));const J=document.getElementById("dropdown");document.getElementById("menu").addEventListener("click",(()=>{J.classList.toggle("hidden")})),document.getElementById("download").addEventListener("click",(()=>{j(2)}));
//# sourceMappingURL=index.e4e4803a.js.map
